@model Horsch.WebTools.Web.Models.View.JsonToAnon.IndexModel
@{
    ViewBag.Title = "Json To Anon";
}

<h1>Enter your json object.</h1>

<form method="post">
  <textarea rows="30" cols="150" name="json">@Model.Json</textarea>
  <input type="submit" value="Convert to Anon" />
</form>

@if (Model.IsInvalid)
{
  <span>An error has occurred processing your json.</span> 
}

@if (Model.Anon != null && !string.IsNullOrEmpty(Model.Anon.BuilderString))
{
    <h1>Builder String</h1>
  <pre><code class="codeblock">@Model.Anon.BuilderString</code></pre>
}

@if (Model.Anon != null && !string.IsNullOrEmpty(Model.Anon.BuilderString))
{
    <h1>Support Methods</h1>
    foreach (var method in Model.Anon.SupportMethods)
    {
        <pre><code class="codeblock">@method</code></pre>
    }
}